<!DOCTYPE html>

<html>
<head>
	<!-- Metadata -->
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="theme-color" content="#000000"/>

        <!-- Icon Image Link -->
        <link rel="icon" type="image/png" href="favicon.png"/>

        <!-- CSS Style Sheet -->
        <link rel="stylesheet" href="style.css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

        <!-- Script Links -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="https://www.google.com/books/jsapi.js"></script>
	
	<title> Book Details </title>
	
	<script>
	    $(function(){
			const queryString = window.location.search;
			console.log(queryString);
			const urlParams = new URLSearchParams(queryString);
			const id=urlParams.get('id');
			var service_point="https://www.googleapis.com/books/v1/volumes/"+id;
	        $.getJSON(service_point, function (json)
	        {
			$("#info1").html("<h1> Title: "+json.volumeInfo.title+"<br>Subtitle: "+json.volumeInfo.subtitle+"<br>Authors: "+json.volumeInfo.authors+"<br></h1><p>Publisher: "
			+json.volumeInfo.publisher+"<br>Published date: "+json.volumeInfo.publishedDate+"<br>Number of pages: "+json.volumeInfo.pageCount+"<br></p>"+json.volumeInfo.description+"<br>Categories: "+json.volumeInfo.categories+"<br>Average rating: "
			+json.volumeInfo.averageRating+"<br>Number of reviews: "+json.volumeInfo.ratingsCount+"<br> Maturity Rating: "+json.volumeInfo.maturityRating+"<br>Language: "+json.volumeInfo.language+"<br>"+json.saleInfo.saleability+"<br></p>"
			);
			$("#thumbnail").attr('src',json.volumeInfo.imageLinks.thumbnail);
			$("#prelink").attr('href', json.volumeInfo.previewLink);
			$("#infolink").attr('href', json.volumeInfo.infoLink);
			}); 
	    });
	</script>
</head>

<div class="content">
<h1> Milestone 3 Book Details</h1>
<img id ="thumbnail">
<div id ="info1"> </div>
<a id = "prelink" target="_blank"> Preview</a>
<a id = "infolink" target="_blank"> Info</a>
</div>

</body>
</html>
